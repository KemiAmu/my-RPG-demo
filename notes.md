# 游戏架构图

这是一个 MarkMap 图示，你可以在 [markmap.js.org](https://markmap.js.org/) 中查看。

## 要素注释
- 剧情 & 进度
- 玩家 & 实体 & NPC & 怪物 & 冲刺动作
- 开放世界玩法 & 多场景地图
- 弹幕 & 回合对战 & 独立对战场景
- 物品背包 & 状态效果 & 未确定

## 全局上下文
### 进度管理器
- 主线剧情
- 支线剧情
- 进度标志
- 成就节点
### 事件总线
- 战斗开始
- 伤害触发
- 剧情推进
- UI 刷新
### 玩家数据管理
- 属性系统
- 状态管理
- 背包系统
### 物品枚举
- 类别 & 特性
- 效用
### 序列化存储
- 玩家数据
- 进度数据

## 实体基类
- 怪物节点
- 玩家节点
- NPC 节点
- 实体节点

## 场景根节点
### 世界容器
- WorldPlayer
- NPC 节点
- 怪物
- 地图场景
- 区域触发器
- WorldCamera
### 战斗容器
- BattlePlayer
- 怪物
- 地图场景
- 战斗 UI
- CombatCamera
### UI容器
- 全局HUD
- 对话框
- 菜单界面

## 战斗系统
### 回合调度器
- 行动队列
- 优先级排序
### 动作执行器
- 攻击判定
- 技能效果
- 道具使用
### 怪物行为树
- 游荡 / 追击行为
- 弹幕模式
### 弹幕实现以及管理
- 碰撞检测
- 伤害计算
